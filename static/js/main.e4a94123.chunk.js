(this["webpackJsonptask-timer"]=this["webpackJsonptask-timer"]||[]).push([[0],{234:function(e,t,a){e.exports=a(426)},426:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(20),o=a(17),c=a.n(o),m=a(199),i=a(36),l=a(30),u="START_TIMER",d="STOP_TIMER",f="SET_TASK_NAME",p="SET_TASKS_LIST_VALUE",T="DELETE_TASK",k="SYNC_TIMER_START_TIME",b="SYNC_STATE_FROM_STORAGE",E="SYNC_TASK_NAME",h=function(e){return{type:k,payload:e}},O=function(e){return{type:b,payload:e}},v=function(e){return{type:E,payload:e}},S={tasksList:[],taskProps:{id:null,taskName:null,timerStartTime:null,timerStopTime:null}};var j=a(39),g=a(18),y=a.n(g),N=a(25),D=y.a.mark(B),I=y.a.mark(M),C=y.a.mark(P),x=y.a.mark(F),w=y.a.mark(R),L=y.a.mark(A),_=y.a.mark(H);function B(){var e;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(N.e)((function(e){return e.taskProps.timerStartTime}));case 2:e=t.sent,localStorage.setItem("StartTime",e);case 4:case"end":return t.stop()}}),D)}function M(){var e;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(N.e)((function(e){return e.taskProps.taskName}));case 2:e=t.sent,localStorage.setItem("TaskName",e);case 4:case"end":return t.stop()}}),I)}function P(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.c)(250,f,M);case 2:case"end":return e.stop()}}),C)}function F(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.b)((function(){return R()}));case 2:localStorage.removeItem("StartTime"),localStorage.removeItem("TaskName");case 4:case"end":return e.stop()}}),x)}function R(){var e;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(N.e)((function(e){return e.tasksList}));case 2:e=t.sent,localStorage.setItem("TasksList",JSON.stringify(e));case 4:case"end":return t.stop()}}),w)}function A(){var e,t,a;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=JSON.parse(localStorage.getItem("TasksList"))||[],t=localStorage.getItem("StartTime")||null,a=localStorage.getItem("TaskName")||null,n.next=5,Object(N.d)(h(t));case 5:return n.next=7,Object(N.d)(O(e));case 7:return n.next=9,Object(N.d)(v(a));case 9:case"end":return n.stop()}}),L)}function H(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.b)((function(){return A()})),Object(N.b)((function(){return P()})),Object(N.f)(u,B),Object(N.f)(d,F),Object(N.f)(p,R),Object(N.f)(T,R)]);case 2:case"end":return e.stop()}}),_)}var z=a(33),K=a(49),V=a(453),J=a(456),X=a(457),Y=a(459),U=a(458),W=a(460),G=a(9),$={container:{paddingTop:"10%","& h4":{color:"#00BCD3",paddingBottom:"1rem"}},buttonContainer:{display:"flex",justifyContent:"flex-end",paddingRight:"1rem",paddingBottom:".5rem","& span":{color:"#00BCD3"}}};var q=Object(G.a)($)(Object(n.memo)((function(e){var t=e.classes,a=t.container,n=t.buttonContainer;return r.a.createElement(V.a,{container:!0,className:a,justify:"center"},r.a.createElement(J.a,null,r.a.createElement(X.a,null,r.a.createElement(U.a,{variant:"h4"},"There is no such task :("),r.a.createElement(U.a,{color:"textSecondary"},"Can try to find it on the home page?")),r.a.createElement(Y.a,{className:n},r.a.createElement(W.a,{size:"small",component:z.b,to:"/tasks"},"Homepage"))))}))),Q=a(467),Z=a(469),ee=a(468),te=a(28),ae=a(11),ne=a(471),re=a(461);var se=Object(n.memo)((function(e){var t=e.verifyTaskName,a=e.setTaskName,n=e.startTask,s=e.timerStartTime,o=e.taskName,c=e.time,m=e.classes,i=m.timerContainer,l=m.taskInput,u=m.timerFab,d=m.timerButton;return r.a.createElement("div",{className:i},r.a.createElement(ne.a,{label:"Name of your task",placeholder:"Name of your task",className:l,value:o||"",onChange:function(e){return a(e.target.value)}}),r.a.createElement(re.a,{className:u},c),s?r.a.createElement(W.a,{variant:"contained",size:"small",className:d,onClick:t},"STOP"):r.a.createElement(W.a,{variant:"contained",size:"small",className:d,onClick:n},"START"))})),oe=a(470),ce={modalContainer:{display:"flex",alignItems:"center",justifyContent:"center"},modal:{display:"flex",flexDirection:"column",width:"60%",boxShadow:"1px 2px 5px black",backgroundColor:"#fff"},modalContent:{flexDirection:"column",padding:"1.5rem"},buttonContainer:{display:"flex",justifyContent:"flex-end",paddingRight:"1rem",paddingBottom:".5rem","& span":{color:"#00BCD3"}},alertName:{paddingBottom:"1rem",color:"#CA0045"},alertContent:{opacity:.7}};var me=Object(G.a)(ce)(Object(n.memo)((function(e){var t=e.setTaskNameIsEmpty,a=e.taskNameIsEmpty,n=e.classes,s=n.buttonContainer,o=n.modalContainer,c=n.modalContent,m=n.alertContent,i=n.alertName,l=n.modal;return r.a.createElement(oe.a,{"aria-describedby":"simple-modal-description","aria-labelledby":"simple-modal-title",className:o,open:a},r.a.createElement("div",{className:l},r.a.createElement(V.a,{container:!0,className:c},r.a.createElement(U.a,{variant:"h6",id:"modal-title",className:i},"Empty task name"),r.a.createElement(U.a,{id:"simple-modal-description",className:m,variant:"subtitle1"},"You are trying close your task without name, enter the title and try again!")),r.a.createElement("div",{className:s},r.a.createElement(W.a,{onClick:function(){t((function(e){return!e}))}},"Close"))))}))),ie={timerContainer:{display:"flex",alignItems:"center",flexDirection:"column"},taskInput:{"& $input::placeholder":{color:"#4823C2",textAlign:"center",opacity:1}},timerFab:{width:"10rem",height:"10rem",margin:"1.5rem",background:"white",color:"#4823C2",fontSize:"1.5rem"},timerButton:{color:"#4823C2",background:"white",marginBottom:"1.5rem"}};var le=Object(s.c)(Object(j.b)((function(e){var t=e.taskProps,a=e.tasksList;return{time:e.time,taskProps:t,tasksList:a}}),{setTaskName:function(e){return{type:f,payload:e}},startTimer:function(){return{type:u}},stopTimer:function(){return{type:d}}}),Object(G.a)(ie))((function(e){var t=e.setTaskName,a=e.taskProps,s=e.startTimer,o=e.stopTimer,c=e.classes,m=Object(n.useState)(!1),i=Object(te.a)(m,2),l=i[0],u=i[1],d=Object(n.useState)("00:00:00"),f=Object(te.a)(d,2),p=f[0],T=f[1];return Object(n.useEffect)((function(){var e=0,t=function(){T(ae.Interval.fromDateTimes(ae.DateTime.fromISO(a.timerStartTime),ae.DateTime.local()).toDuration().toFormat("hh:mm:ss"))};return a.timerStartTime?(t(),e=setInterval(t,1e3)):T("00:00:00"),function(){clearInterval(e)}}),[a.timerStartTime]),r.a.createElement(r.a.Fragment,null,r.a.createElement(se,{timerStartTime:a.timerStartTime,taskNameIsEmpty:l,verifyTaskName:function(){a.taskName?o():u((function(e){return!e}))},setTaskName:t,taskName:a.taskName,startTask:s,time:p,classes:c}),r.a.createElement(me,{setTaskNameIsEmpty:u,taskNameIsEmpty:l}))})),ue=function(e){for(var t=[],a=function(a){var n=ae.DateTime.fromObject({hour:a,minute:0,second:0}),r=ae.DateTime.fromObject({hour:a,minute:59,second:59}),s=ae.Interval.fromDateTimes(n,r),o=e.filter((function(e){return s.intersection(ae.Interval.fromDateTimes(ae.DateTime.fromISO(e.timerStartTime),ae.DateTime.fromISO(e.timerStopTime)))})),c=void 0;o&&(c=o.reduce((function(e,t){var n,r=ae.DateTime.fromISO(t.timerStartTime),s=ae.DateTime.fromISO(t.timerStopTime);return n=r.hour===a&&s.hour===a?ae.Interval.fromDateTimes(r,s).toDuration("minutes").toObject().minutes:r.hour===a?60-r.minute:s.hour===a?s.minute:60,e+Math.round(n)}),0)),t.push({hour:a,minutes:60,tasksTimeInThisHour:c||0})},n=0;n<24;n++)a(n);return t},de=a(19);var fe=Object(n.memo)((function(e){var t=e.getRandomTasks,a=e.chartData,n=e.classes,s=n.generateButtonContainer,o=n.generateButton;return r.a.createElement("div",null,r.a.createElement(de.e,{id:"container",width:"100%",height:300},r.a.createElement(de.b,{data:a,margin:{top:20,left:-25}},r.a.createElement(de.c,{strokeDasharray:"3 3"}),r.a.createElement(de.g,{dataKey:"hour"}),r.a.createElement(de.h,{dataKey:"minutes"}),r.a.createElement(de.f,null),r.a.createElement(de.d,null),r.a.createElement(de.a,{dataKey:"tasksTimeInThisHour",name:"Minutes in this hours",barSize:20,fill:"#4823C2"}))),r.a.createElement(V.a,{container:!0,className:s},r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(W.a,{className:o,variant:"contained",size:"small",onClick:function(){return t()}},"Generate"))))})),pe={generateButtonContainer:{justifyContent:"justify-end",textAlign:"right",padding:"1rem 0"},generateButton:{color:"#4823C2",background:"white"}},Te=function(e,t){return Math.floor(Math.random()*(t-e)+e+1)};var ke=Object(s.c)(Object(j.b)((function(e){return{tasksList:e.tasksList}}),{setTasksListValue:function(e){return{type:p,payload:e}}}),Object(G.a)(pe))((function(e){var t=e.setTasksListValue,a=e.tasksList,n=e.classes,s=ue(a);return r.a.createElement(fe,{getRandomTasks:function(){for(var e=[],a=ae.DateTime.fromObject({hour:0,minute:0,second:0}),n=null,r=Te(10,16),s=1;s<r;s++)n=(a=a.plus({seconds:Te(0,5400)})).plus({seconds:Te(600,5400)}),e.push({id:s,taskName:"Random task #".concat(s),timerStartTime:a,timerStopTime:n}),a=n;t(e)},chartData:s,classes:n})})),be=a(462),Ee=a(466),he=a(465),Oe=a(463),ve=a(464);var Se=Object(n.memo)((function(e){var t=e.deleteTask,a=e.tasksList,n=e.classes,s=n.tableRow,o=n.noTasks,c=n.tasksButton;return r.a.createElement(be.a,null,r.a.createElement(Oe.a,null,r.a.createElement(ve.a,null,r.a.createElement(he.a,null,"\u2116"),r.a.createElement(he.a,null,"Task"),r.a.createElement(he.a,null,"Time start"),r.a.createElement(he.a,null,"Time end"),r.a.createElement(he.a,null,"Time spend"),r.a.createElement(he.a,null,"Info"),r.a.createElement(he.a,null,"Delete"))),r.a.createElement(Ee.a,null,a.length>0?a.map((function(e){return r.a.createElement(ve.a,{key:e.id,className:s},r.a.createElement(he.a,{component:"th",scope:"row"},e.id),r.a.createElement(he.a,null,e.taskName),r.a.createElement(he.a,null,ae.DateTime.fromISO(e.timerStartTime).toFormat("HH:mm:ss")),r.a.createElement(he.a,null,ae.DateTime.fromISO(e.timerStopTime).toFormat("HH:mm:ss")),r.a.createElement(he.a,null,ae.Interval.fromDateTimes(ae.DateTime.fromISO(e.timerStartTime),ae.DateTime.fromISO(e.timerStopTime)).toDuration().toFormat("hh:mm:ss")),r.a.createElement(he.a,null,r.a.createElement(W.a,{className:c,variant:"contained",size:"small",component:z.b,to:"/tasks/".concat(e.id)},"Info")),r.a.createElement(he.a,null,r.a.createElement(W.a,{className:c,variant:"contained",size:"small",onClick:function(){return t(e.id)}},"Delete")))})):r.a.createElement(ve.a,{className:s},r.a.createElement(he.a,{className:o,colSpan:7},"No tasks to show"))))})),je={tableRow:{background:"#E8F6FF",color:"#4823C2"},noTasks:{textAlign:"center"},tasksButton:{color:"#4823C2",background:"white"}};var ge=Object(s.c)(Object(j.b)((function(e){return{tasksList:e.tasksList}}),{deleteTask:function(e){return{type:T,payload:e}}}),Object(G.a)(je))((function(e){var t=e.deleteTask,a=e.tasksList,n=e.classes;return r.a.createElement(Se,{deleteTask:t,tasksList:a,classes:n})})),ye={tasksTimerContainer:{padding:"2rem"},tabsContainer:{background:"#00BCD3",boxShadow:"none"}};var Ne=Object(G.a)(ye)(Object(n.memo)((function(e){var t=e.location,a=e.classes,n=a.tasksTimerContainer,s=a.tabsContainer,o="/chart"===t.pathname?"Chart":"Log";return r.a.createElement("div",{className:n},r.a.createElement(V.a,{container:!0,justify:"center"},r.a.createElement(V.a,{item:!0,xs:12,lg:10},r.a.createElement(le,null)),r.a.createElement(V.a,{item:!0,xs:12,lg:10},r.a.createElement("section",null,r.a.createElement(Q.a,{position:"relative",className:s},r.a.createElement(Z.a,{variant:"fullWidth",value:o},r.a.createElement(ee.a,{value:"Log",label:"Tasks log",component:z.b,to:"/tasks"}),r.a.createElement(ee.a,{value:"Chart",label:"Tasks chart",component:z.b,to:"/chart"}))),r.a.createElement(K.b,{path:"/tasks",exact:!0,component:ge}),r.a.createElement(K.b,{path:"/chart",exact:!0,component:ke})))))})));var De=Object(n.memo)((function(e){var t=e.task,a=e.classes,n=a.card,s=a.taskName,o=a.buttonContainer,c=a.button;return r.a.createElement(J.a,{key:t.id,className:n},r.a.createElement(X.a,null,r.a.createElement(U.a,{className:s,variant:"h4",component:"h2"},"Task name: ".concat(t.taskName)),r.a.createElement(U.a,{component:"p"},ae.DateTime.fromISO(t.timerStartTime).toFormat("'The timer was started on' yyyy-MM-dd 'at' HH:mm:ss")),r.a.createElement(U.a,{component:"p"},ae.DateTime.fromISO(t.timerStopTime).toFormat("'The timer was stopped on' yyyy-MM-dd 'at' HH:mm:ss")),r.a.createElement(U.a,{component:"p"},ae.Interval.fromDateTimes(ae.DateTime.fromISO(t.timerStartTime),ae.DateTime.fromISO(t.timerStopTime)).toDuration().toFormat("'Time spent on task:' hh:mm:ss"))),r.a.createElement(Y.a,{className:o},r.a.createElement(W.a,{className:c,size:"small",component:z.b,to:"/tasks"},"Back")))}));var Ie=Object(n.memo)((function(e){var t=e.dataForChart;return r.a.createElement(de.e,{id:"container",width:"80%",height:300},r.a.createElement(de.b,{data:t,margin:{top:20}},r.a.createElement(de.c,{strokeDasharray:"3 3"}),r.a.createElement(de.g,{dataKey:"hour"}),r.a.createElement(de.h,{dataKey:"minutes"}),r.a.createElement(de.f,null),r.a.createElement(de.d,null),r.a.createElement(de.a,{dataKey:"tasksTimeInThisHour",name:"Minutes in this hours",barSize:20,fill:"#4823C2"})))})),Ce=function(e){for(var t=[],a=[{startTime:function(){var t=ae.DateTime.fromISO(e.timerStartTime);return{hour:t.hour,minute:t.minute,second:t.second}}(),stopTime:function(){var t=ae.DateTime.fromISO(e.timerStopTime);return{hour:t.hour,minute:t.minute,second:t.second}}()}],n=function(e){var n=ae.DateTime.fromObject({hour:e,minute:0,second:0}),r=ae.DateTime.fromObject({hour:e,minute:59,second:59}),s=ae.Interval.fromDateTimes(n,r),o=a.filter((function(e){return s.intersection(ae.Interval.fromDateTimes(ae.DateTime.fromObject(e.startTime),ae.DateTime.fromObject(e.stopTime)))})),c=void 0;o&&(c=o.reduce((function(t,a){var n,r=ae.DateTime.fromObject(a.startTime),s=ae.DateTime.fromObject(a.stopTime);return n=r.hour===e&&s.hour===e?ae.Interval.fromDateTimes(r,s).toDuration("minutes").toObject().minutes:r.hour===e?60-r.minute:s.hour===e?s.minute:60,t+Math.round(n)}),0)),t.push({hour:e,minutes:60,tasksTimeInThisHour:Math.round(c)||0})},r=0;r<24;r++)n(r);return t},xe={card:{display:"flex",flexDirection:"column"},taskName:{color:"#4823C2"},buttonContainer:{justifyContent:"flex-end"},button:{color:"#4823C2",background:"white"}};var we=Object(s.c)(Object(j.b)((function(e){return{tasksList:e.tasksList}})),Object(G.a)(xe))((function(e){var t=e.tasksList,a=e.match,n=e.classes,s=t.find((function(e){return e.id===Number(a.params.id)}));return r.a.createElement(r.a.Fragment,null,s?r.a.createElement(V.a,{container:!0,alignItems:"center",direction:"column"},r.a.createElement(De,{task:s,classes:n}),r.a.createElement(Ie,{dataForChart:Ce(s)})):r.a.createElement(K.a,{to:"/404"}))}));var Le=function(){return r.a.createElement(z.a,null,r.a.createElement(K.d,null,r.a.createElement(K.b,{path:"/",exact:!0,render:function(){return r.a.createElement(K.a,{to:"/tasks"})}}),r.a.createElement(K.b,{path:"/tasks",exact:!0,component:Ne}),r.a.createElement(K.b,{path:"/tasks/:id",exact:!0,component:we}),r.a.createElement(K.b,{path:"/chart",exact:!0,component:Ne}),r.a.createElement(K.b,{component:q})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _e=Object(m.a)(),Be=Object(s.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(l.a)({},e,{taskProps:Object(l.a)({},e.taskProps,{timerStartTime:(new Date).toISOString()})});case d:return Object(l.a)({},e,{taskProps:S.taskProps,tasksList:[].concat(Object(i.a)(e.tasksList),[Object(l.a)({},e.taskProps,{id:e.tasksList.length>0?Math.max.apply(Math,Object(i.a)(e.tasksList.map((function(e){return e.id}))))+1:1,timerStopTime:(new Date).toISOString()})])});case f:return Object(l.a)({},e,{taskProps:Object(l.a)({},e.taskProps,{taskName:t.payload})});case p:return Object(l.a)({},e,{tasksList:t.payload});case T:return Object(l.a)({},e,{tasksList:e.tasksList.filter((function(e){return e.id!==t.payload}))});case k:return Object(l.a)({},e,{taskProps:Object(l.a)({},e.taskProps,{timerStartTime:t.payload})});case b:return Object(l.a)({},e,{tasksList:[].concat(Object(i.a)(e.tasksList),Object(i.a)(t.payload))});case E:return Object(l.a)({},e,{taskProps:Object(l.a)({},e.taskProps,{taskName:t.payload})});default:return e}}),Object(s.c)(Object(s.a)(_e),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));_e.run(H),c.a.render(r.a.createElement(j.a,{store:Be},r.a.createElement(Le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[234,1,2]]]);
//# sourceMappingURL=main.e4a94123.chunk.js.map