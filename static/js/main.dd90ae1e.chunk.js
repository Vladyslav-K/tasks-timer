(this["webpackJsonptask-timer"]=this["webpackJsonptask-timer"]||[]).push([[0],{237:function(e,t,a){e.exports=a(429)},429:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(17),o=a.n(s),i=a(40),m=a(201),c=a(20),l="START_TASK",u="STOP_TASK",p="SET_TIME",d="SET_TASK_NAME",f="SYNC_TASK_PROPS",k=function(){return{type:u}},T=function(e){return{type:f,payload:e}},h={time:"00:00:00",taskProps:{id:null,taskName:null,timerStartTime:null,timerStopTime:null}};var E="OPEN_ALERT_WINDOW",b=function(e){return{type:E,payload:e}},v={taskNameIsEmpty:!1};var y=a(31),O="PUSH_TASK_IN_TASKS_LIST",S="SET_TASKS_LIST_VALUE",g="SYNC_STATE_FROM_STORAGE",N=function(e){return{type:S,payload:e}},j=function(e){return{type:g,payload:e}},I={tasksList:[]};var D=Object(i.c)({timer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(c.a)({},e,{taskProps:Object(c.a)({},e.taskProps,{timerStopTime:null,timerStartTime:t.payload})});case u:return Object(c.a)({},e,{time:h.time,taskProps:h.taskProps});case p:return Object(c.a)({},e,{time:t.payload});case d:return Object(c.a)({},e,{taskProps:Object(c.a)({},e.taskProps,{taskName:t.payload})});case f:return Object(c.a)({},e,{taskProps:Object(c.a)({},e.taskProps,{},t.payload)});default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(c.a)({},e,{taskNameIsEmpty:t.payload});default:return e}},tasksLog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(c.a)({},e,{tasksList:[].concat(Object(y.a)(e.tasksList),[t.payload])});case S:return Object(c.a)({},e,{tasksList:t.payload});case g:return Object(c.a)({},e,{tasksList:[].concat(Object(y.a)(e.tasksList),Object(y.a)(t.payload))});default:return e}}}),C=a(30),x=a(33),w=a.n(x),L=a(35),A=w.a.mark(M),P=w.a.mark(F),B=w.a.mark(H),_=w.a.mark(K);function M(){var e,t,a,n,r;return w.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(L.c)(300);case 2:return s.next=4,Object(L.e)();case 4:return e=s.sent,t=e.timer.taskProps,a=t.timerStartTime,n=t.taskName,r=e.tasksLog.tasksList,s.next=11,Object(L.b)((function(){localStorage.setItem("tasksList",JSON.stringify(r)),localStorage.setItem("startTimeAndTaskName",JSON.stringify({timerStartTime:a,taskName:n}))}));case 11:case"end":return s.stop()}}),A)}function F(){var e,t;return w.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(L.b)((function(){return JSON.parse(localStorage.getItem("tasksList"))||[]}));case 2:return e=a.sent,a.next=5,Object(L.b)((function(){return JSON.parse(localStorage.getItem("startTimeAndTaskName"))||k()}));case 5:return t=a.sent,a.next=8,Object(L.d)(j(e));case 8:return a.next=10,Object(L.d)(T(t));case 10:case"end":return a.stop()}}),P)}function H(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.b)(F);case 2:return e.next=4,Object(L.f)("*",M);case 4:case"end":return e.stop()}}),B)}function K(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.a)([H()]);case 2:case"end":return e.stop()}}),_)}var R=a(29),W=a(50),z=a(456),J=a(459),V=a(460),U=a(462),Y=a(461),G=a(463),$=a(9);var q=Object($.a)({container:{paddingTop:"10%","& h4":{color:"#00BCD3",paddingBottom:"1rem"}},buttonContainer:{display:"flex",justifyContent:"flex-end",paddingRight:"1rem",paddingBottom:".5rem","& span":{color:"#00BCD3"}}})((function(e){var t=e.classes,a=t.container,n=t.buttonContainer;return r.a.createElement(z.a,{container:!0,className:a,justify:"center"},r.a.createElement(J.a,null,r.a.createElement(V.a,null,r.a.createElement(Y.a,{variant:"h4"},"There is no such task :("),r.a.createElement(Y.a,{color:"textSecondary"},"Can try to find it on the home page?")),r.a.createElement(U.a,{className:n},r.a.createElement(G.a,{size:"small",component:R.b,to:"/tasks"},"Homepage"))))})),Q=a(470),X=a(472),Z=a(471),ee=a(93),te=a(48),ae=a(188),ne=a(189),re=a(202),se=a(11),oe=a(474),ie=a(464);function me(e){var t=e.verifyTaskName,a=e.setTaskName,n=e.startTimer,s=e.timerStartTime,o=e.taskName,i=e.time,m=e.classes,c=m.timerContainer,l=m.taskInput,u=m.timerFab,p=m.timerButton;return r.a.createElement("div",{className:c},r.a.createElement(oe.a,{label:"Name of your task",placeholder:"Name of your task",className:l,value:o||"",onChange:function(e){return a(e.target.value)}}),r.a.createElement(ie.a,{className:u},i),s?r.a.createElement(G.a,{variant:"contained",size:"small",className:p,onClick:t},"STOP"):r.a.createElement(G.a,{variant:"contained",size:"small",className:p,onClick:n},"START"))}var ce={timerContainer:{display:"flex",alignItems:"center",flexDirection:"column"},taskInput:{"& $input::placeholder":{color:"#4823C2",textAlign:"center",opacity:1}},timerFab:{width:"10rem",height:"10rem",margin:"1.5rem",background:"white",color:"#4823C2",fontSize:"1.5rem"},timerButton:{color:"#4823C2",background:"white",marginBottom:"1.5rem"}},le=function(e){function t(){var e,a;Object(ee.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(ae.a)(this,(e=Object(ne.a)(t)).call.apply(e,[this].concat(r)))).intervalID=0,a.timer=function(){var e=a.props,t=e.taskProps.timerStartTime,n=e.setTime;n(t?se.Interval.fromDateTimes(se.DateTime.fromISO(a.props.taskProps.timerStartTime),se.DateTime.local()).toDuration().toFormat("hh:mm:ss"):"00:00:00")},a.startTimer=function(){a.props.startTask(se.DateTime.local().toISO())},a.verifyTaskName=function(){var e=a.props,t=e.taskProps,n=e.openAlertWindow;t.taskName?a.stopTimer():n(!0)},a.stopTimer=function(){var e=a.props,t=e.taskProps,n=e.stopTask,r=e.pushTaskInTasksList;n(),r(Object(c.a)({},t,{id:a.createTaskId(),timerStopTime:se.DateTime.local().toISO()}))},a.createTaskId=function(){var e=a.props.tasksList,t=Math.max.apply(Math,Object(y.a)(e.map((function(e){return e.id}))));return t>0?t+1:1},a}return Object(re.a)(t,e),Object(te.a)(t,[{key:"componentDidMount",value:function(){this.props.taskProps.timerStartTime&&this.timer(),this.intervalID=setInterval(this.timer,1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID)}},{key:"render",value:function(){var e=this.props,t=e.time,a=e.classes,n=e.setTaskName,s=e.taskProps,o=s.timerStartTime,i=s.taskName;return r.a.createElement(me,{verifyTaskName:this.verifyTaskName,startTimer:this.startTimer,setTaskName:n,timerStartTime:o,taskName:i,time:t,classes:a})}}]),t}(n.Component),ue={pushTaskInTasksList:function(e){return{type:O,payload:e}},setTaskName:function(e){return{type:d,payload:e}},startTask:function(e){return{type:l,payload:e}},stopTask:k,setTime:function(e){return{type:p,payload:e}},openAlertWindow:b},pe=Object(C.b)((function(e){var t=e.timer,a=e.tasksLog;return{time:t.time,taskProps:t.taskProps,tasksList:a.tasksList}}),ue)(Object($.a)(ce)(le)),de=a(473);function fe(e){var t=e.openAlertWindow,a=e.taskNameIsEmpty,n=e.classes,s=n.buttonContainer,o=n.modalContainer,i=n.modalContent,m=n.alertContent,c=n.alertName,l=n.modal;return r.a.createElement(de.a,{"aria-describedby":"simple-modal-description","aria-labelledby":"simple-modal-title",className:o,open:a},r.a.createElement("div",{className:l},r.a.createElement(z.a,{container:!0,className:i},r.a.createElement(Y.a,{variant:"h6",id:"modal-title",className:c},"Empty task name"),r.a.createElement(Y.a,{id:"simple-modal-description",className:m,variant:"subtitle1"},"You are trying close your task without name, enter the title and try again!")),r.a.createElement("div",{className:s},r.a.createElement(G.a,{onClick:function(){t(!1)}},"Close"))))}var ke={openAlertWindow:b},Te=Object(C.b)((function(e){return{taskNameIsEmpty:e.alert.taskNameIsEmpty}}),ke)(Object($.a)({modalContainer:{display:"flex",alignItems:"center",justifyContent:"center"},modal:{display:"flex",flexDirection:"column",width:"60%",boxShadow:"1px 2px 5px black",backgroundColor:"#fff"},modalContent:{flexDirection:"column",padding:"1.5rem"},buttonContainer:{display:"flex",justifyContent:"flex-end",paddingRight:"1rem",paddingBottom:".5rem","& span":{color:"#00BCD3"}},alertName:{paddingBottom:"1rem",color:"#CA0045"},alertContent:{opacity:.7}})((function(e){var t=e.taskNameIsEmpty,a=e.openAlertWindow,n=e.classes;return r.a.createElement(fe,{openAlertWindow:a,taskNameIsEmpty:t,classes:n})}))),he=function(e){for(var t=[],a=function(a){var n=se.DateTime.fromObject({hour:a,minute:0,second:0}),r=se.DateTime.fromObject({hour:a,minute:59,second:59}),s=se.Interval.fromDateTimes(n,r),o=e.filter((function(e){return s.intersection(se.Interval.fromDateTimes(se.DateTime.fromISO(e.timerStartTime),se.DateTime.fromISO(e.timerStopTime)))})),i=0;o.length>0&&(i=o.reduce((function(e,t){var n,r=se.DateTime.fromISO(t.timerStartTime),s=se.DateTime.fromISO(t.timerStopTime);return n=r.hour===a&&s.hour===a?se.Interval.fromDateTimes(r,s).toDuration("minutes").toObject().minutes:r.hour===a?60-r.minute:s.hour===a?s.minute:60,e+Math.round(n)}),0)),t.push({hour:a,minutes:60,tasksTimeInThisHour:i||0})},n=0;n<24;n++)a(n);return t},Ee=a(18);function be(e){var t=e.getRandomTasks,a=e.chartData,n=e.classes,s=n.generateButtonContainer,o=n.generateButton;return r.a.createElement("div",null,r.a.createElement(Ee.e,{id:"container",width:"100%",height:300},r.a.createElement(Ee.b,{data:a,margin:{top:20,left:-25}},r.a.createElement(Ee.c,{strokeDasharray:"3 3"}),r.a.createElement(Ee.g,{dataKey:"hour"}),r.a.createElement(Ee.h,{dataKey:"minutes"}),r.a.createElement(Ee.f,null),r.a.createElement(Ee.d,null),r.a.createElement(Ee.a,{dataKey:"tasksTimeInThisHour",name:"Minutes in this hours",barSize:20,fill:"#4823C2"}))),r.a.createElement(z.a,{container:!0,className:s},r.a.createElement(z.a,{item:!0,xs:12},r.a.createElement(G.a,{className:o,variant:"contained",size:"small",onClick:function(){return t()}},"Generate"))))}var ve={generateButtonContainer:{justifyContent:"justify-end",textAlign:"right",padding:"1rem 0"},generateButton:{color:"#4823C2",background:"white"}},ye=function(e,t){return Math.floor(Math.random()*(t-e)+e+1)};var Oe={setTasksListValue:N},Se=Object(C.b)((function(e){return{tasksList:e.tasksLog.tasksList}}),Oe)(Object($.a)(ve)((function(e){var t=e.setTasksListValue,a=e.tasksList,n=e.classes,s=he(a);return r.a.createElement(be,{getRandomTasks:function(){for(var e=[],a=se.DateTime.fromObject({hour:0,minute:0,second:0}),n=null,r=ye(10,16),s=1;s<r;s++)n=(a=a.plus({seconds:ye(0,5400)})).plus({seconds:ye(600,5400)}),e.push({id:s,taskName:"Random task #".concat(s),timerStartTime:a,timerStopTime:n}),a=n;t(e)},chartData:s,classes:n})}))),ge=a(465),Ne=a(469),je=a(468),Ie=a(466),De=a(467);function Ce(e){var t=e.deleteCurrentTask,a=e.tasksList,n=e.classes,s=n.tableRow,o=n.noTasks,i=n.tasksButton;return r.a.createElement(ge.a,null,r.a.createElement(Ie.a,null,r.a.createElement(De.a,null,r.a.createElement(je.a,null,"\u2116"),r.a.createElement(je.a,null,"Task"),r.a.createElement(je.a,null,"Time start"),r.a.createElement(je.a,null,"Time end"),r.a.createElement(je.a,null,"Time spend"),r.a.createElement(je.a,null,"Info"),r.a.createElement(je.a,null,"Delete"))),r.a.createElement(Ne.a,null,a.length>0?a.map((function(e){return r.a.createElement(De.a,{key:e.id,className:s},r.a.createElement(je.a,{component:"th",scope:"row"},e.id),r.a.createElement(je.a,null,e.taskName),r.a.createElement(je.a,null,se.DateTime.fromISO(e.timerStartTime).toFormat("HH:mm:ss")),r.a.createElement(je.a,null,se.DateTime.fromISO(e.timerStopTime).toFormat("HH:mm:ss")),r.a.createElement(je.a,null,se.Interval.fromDateTimes(se.DateTime.fromISO(e.timerStartTime),se.DateTime.fromISO(e.timerStopTime)).toDuration().toFormat("hh:mm:ss")),r.a.createElement(je.a,null,r.a.createElement(G.a,{className:i,variant:"contained",size:"small",component:R.b,to:"/tasks/".concat(e.id)},"Info")),r.a.createElement(je.a,null,r.a.createElement(G.a,{className:i,variant:"contained",size:"small",onClick:function(){return t(e.id)}},"Delete")))})):r.a.createElement(De.a,{className:s},r.a.createElement(je.a,{className:o,colSpan:7},"No tasks to show"))))}var xe={tableRow:{background:"#E8F6FF",color:"#4823C2"},noTasks:{textAlign:"center"},tasksButton:{color:"#4823C2",background:"white"}};var we={setTasksListValue:N},Le=Object(C.b)((function(e){return{tasksList:e.tasksLog.tasksList}}),we)(Object($.a)(xe)((function(e){var t=e.setTasksListValue,a=e.tasksList,n=e.classes;return r.a.createElement(Ce,{deleteCurrentTask:function(e){var n=a.filter((function(t){return t.id!==e}));t(n)},tasksList:a,classes:n})}))),Ae={tasksTimerContainer:{padding:"2rem"},tabsContainer:{background:"#00BCD3",boxShadow:"none"}};var Pe=Object($.a)(Ae)((function(e){var t=e.location,a=e.classes,n=a.tasksTimerContainer,s=a.tabsContainer,o="/chart"===t.pathname?"Chart":"Log";return r.a.createElement("div",{className:n},r.a.createElement(z.a,{container:!0,justify:"center"},r.a.createElement(z.a,{item:!0,xs:12,lg:10},r.a.createElement(Te,null),r.a.createElement(pe,null)),r.a.createElement(z.a,{item:!0,xs:12,lg:10},r.a.createElement("section",null,r.a.createElement(Q.a,{position:"relative",className:s},r.a.createElement(X.a,{variant:"fullWidth",value:o},r.a.createElement(Z.a,{value:"Log",label:"Tasks log",component:R.b,to:"/tasks"}),r.a.createElement(Z.a,{value:"Chart",label:"Tasks chart",component:R.b,to:"/chart"}))),r.a.createElement(W.b,{path:"/tasks",exact:!0,component:Le}),r.a.createElement(W.b,{path:"/chart",exact:!0,component:Se})))))}));function Be(e){var t=e.task,a=e.classes,n=a.card,s=a.taskName,o=a.buttonContainer,i=a.button;return r.a.createElement(J.a,{key:t.id,className:n},r.a.createElement(V.a,null,r.a.createElement(Y.a,{className:s,variant:"h4",component:"h2"},"Task name: ".concat(t.taskName)),r.a.createElement(Y.a,{component:"p"},se.DateTime.fromISO(t.timerStartTime).toFormat("'The timer was started on' yyyy-MM-dd 'at' HH:mm:ss")),r.a.createElement(Y.a,{component:"p"},se.DateTime.fromISO(t.timerStopTime).toFormat("'The timer was stopped on' yyyy-MM-dd 'at' HH:mm:ss")),r.a.createElement(Y.a,{component:"p"},se.Interval.fromDateTimes(se.DateTime.fromISO(t.timerStartTime),se.DateTime.fromISO(t.timerStopTime)).toDuration().toFormat("'Time spent on task:' hh:mm:ss"))),r.a.createElement(U.a,{className:o},r.a.createElement(G.a,{className:i,size:"small",component:R.b,to:"/tasks"},"Back")))}function _e(e){var t=e.dataForChart;return r.a.createElement(Ee.e,{id:"container",width:"80%",height:300},r.a.createElement(Ee.b,{data:t,margin:{top:20}},r.a.createElement(Ee.c,{strokeDasharray:"3 3"}),r.a.createElement(Ee.g,{dataKey:"hour"}),r.a.createElement(Ee.h,{dataKey:"minutes"}),r.a.createElement(Ee.f,null),r.a.createElement(Ee.d,null),r.a.createElement(Ee.a,{dataKey:"tasksTimeInThisHour",name:"Minutes in this hours",barSize:20,fill:"#4823C2"})))}var Me=function(e){for(var t=[],a=[{startTime:function(){var t=se.DateTime.fromISO(e.timerStartTime);return{hour:t.hour,minute:t.minute,second:t.second}}(),stopTime:function(){var t=se.DateTime.fromISO(e.timerStopTime);return{hour:t.hour,minute:t.minute,second:t.second}}()}],n=function(e){var n=se.DateTime.fromObject({hour:e,minute:0,second:0}),r=se.DateTime.fromObject({hour:e,minute:59,second:59}),s=se.Interval.fromDateTimes(n,r),o=a.filter((function(e){return s.intersection(se.Interval.fromDateTimes(se.DateTime.fromObject(e.startTime),se.DateTime.fromObject(e.stopTime)))})),i=0;o&&o.length>0&&(i=o.reduce((function(t,a){var n,r=se.DateTime.fromObject(a.startTime),s=se.DateTime.fromObject(a.stopTime);return n=r.hour===e&&s.hour===e?se.Interval.fromDateTimes(r,s).toDuration("minutes").toObject().minutes:r.hour===e?60-r.minute:s.hour===e?s.minute:60,t+Math.round(n)}),0)),t.push({hour:e,minutes:60,tasksTimeInThisHour:Math.round(i)||0})},r=0;r<24;r++)n(r);return t},Fe={card:{display:"flex",flexDirection:"column"},taskName:{color:"#4823C2"},buttonContainer:{justifyContent:"flex-end"},button:{color:"#4823C2",background:"white"}};var He=Object(C.b)((function(e){return{tasksList:e.tasksLog.tasksList}}))(Object($.a)(Fe)((function(e){var t=e.tasksList,a=e.match,n=e.classes,s=t.find((function(e){return e.id===Number(a.params.id)}));if(!s)return r.a.createElement(W.a,{to:"/404"});var o=Me(s);return r.a.createElement(z.a,{container:!0,alignItems:"center",direction:"column"},r.a.createElement(Be,{task:s,classes:n}),r.a.createElement(_e,{dataForChart:o}))})));var Ke=function(){return r.a.createElement(R.a,null,r.a.createElement(W.d,null,r.a.createElement(W.b,{path:"/",exact:!0,render:function(){return r.a.createElement(W.a,{to:"/tasks"})}}),r.a.createElement(W.b,{path:"/tasks",exact:!0,component:Pe}),r.a.createElement(W.b,{path:"/tasks/:id",exact:!0,component:He}),r.a.createElement(W.b,{path:"/chart",exact:!0,component:Pe}),r.a.createElement(W.b,{component:q})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Re=Object(m.a)(),We=Object(i.e)(D,Object(i.a)(Re));Re.run(K),o.a.render(r.a.createElement(C.a,{store:We},r.a.createElement(Ke,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[237,1,2]]]);
//# sourceMappingURL=main.dd90ae1e.chunk.js.map