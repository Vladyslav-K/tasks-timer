(this["webpackJsonptask-timer"]=this["webpackJsonptask-timer"]||[]).push([[0],{234:function(e,t,a){e.exports=a(426)},426:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(17),o=a.n(s),m=a(25),c=a(199),i=a(36),l=a(30),u="START_TIMER",d="STOP_TIMER",p="SET_TASK_NAME",f="SET_TASKS_LIST_VALUE",k="DELETE_TASK",T="SYNC_TIMER_START_TIME",b="SYNC_STATE_FROM_STORAGE",h="SYNC_TASK_NAME",E=function(e){return{type:T,payload:e}},O=function(e){return{type:b,payload:e}},v=function(e){return{type:h,payload:e}},S={tasksList:[],taskProps:{id:null,taskName:null,timerStartTime:null,timerStopTime:null}};var j=a(39),N=a(18),g=a.n(N),y=a(24),I=g.a.mark(M),C=g.a.mark(P),x=g.a.mark(A),D=g.a.mark(F),w=g.a.mark(_),L=g.a.mark(R),B=g.a.mark(H);function M(){var e;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.e)((function(e){return e.taskProps.timerStartTime}));case 2:e=t.sent,localStorage.setItem("StartTime",e);case 4:case"end":return t.stop()}}),I)}function P(){var e;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.e)((function(e){return e.taskProps.taskName}));case 2:e=t.sent,localStorage.setItem("TaskName",e);case 4:case"end":return t.stop()}}),C)}function A(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.c)(250,p,P);case 2:case"end":return e.stop()}}),x)}function F(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.b)((function(){return _()}));case 2:localStorage.removeItem("StartTime"),localStorage.removeItem("TaskName");case 4:case"end":return e.stop()}}),D)}function _(){var e;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.e)((function(e){return e.tasksList}));case 2:e=t.sent,localStorage.setItem("TasksList",JSON.stringify(e));case 4:case"end":return t.stop()}}),w)}function R(){var e,t,a;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=JSON.parse(localStorage.getItem("TasksList"))||[],t=localStorage.getItem("StartTime")||null,a=localStorage.getItem("TaskName")||null,n.next=5,Object(y.d)(E(t));case 5:return n.next=7,Object(y.d)(O(e));case 7:return n.next=9,Object(y.d)(v(a));case 9:case"end":return n.stop()}}),L)}function H(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)([Object(y.b)((function(){return R()})),Object(y.b)((function(){return A()})),Object(y.f)(u,M),Object(y.f)(d,F),Object(y.f)(f,_),Object(y.f)(k,_)]);case 2:case"end":return e.stop()}}),B)}var z=a(33),K=a(49),J=a(453),Y=a(456),V=a(457),W=a(459),G=a(458),$=a(460),U=a(9),q={container:{paddingTop:"10%","& h4":{color:"#00BCD3",paddingBottom:"1rem"}},buttonContainer:{display:"flex",justifyContent:"flex-end",paddingRight:"1rem",paddingBottom:".5rem","& span":{color:"#00BCD3"}}};var Q=Object(U.a)(q)(Object(n.memo)((function(e){var t=e.classes,a=t.container,n=t.buttonContainer;return r.a.createElement(J.a,{container:!0,className:a,justify:"center"},r.a.createElement(Y.a,null,r.a.createElement(V.a,null,r.a.createElement(G.a,{variant:"h4"},"There is no such task :("),r.a.createElement(G.a,{color:"textSecondary"},"Can try to find it on the home page?")),r.a.createElement(W.a,{className:n},r.a.createElement($.a,{size:"small",component:z.b,to:"/tasks"},"Homepage"))))}))),X=a(467),Z=a(469),ee=a(468),te=a(28),ae=a(11),ne=a(471),re=a(461);var se=Object(n.memo)((function(e){var t=e.verifyTaskName,a=e.setTaskName,n=e.startTask,s=e.timerStartTime,o=e.taskName,m=e.time,c=e.classes,i=c.timerContainer,l=c.taskInput,u=c.timerFab,d=c.timerButton;return r.a.createElement("div",{className:i},r.a.createElement(ne.a,{label:"Name of your task",placeholder:"Name of your task",className:l,value:o||"",onChange:function(e){return a(e.target.value)}}),r.a.createElement(re.a,{className:u},m),s?r.a.createElement($.a,{variant:"contained",size:"small",className:d,onClick:t},"STOP"):r.a.createElement($.a,{variant:"contained",size:"small",className:d,onClick:n},"START"))})),oe=a(470),me={modalContainer:{display:"flex",alignItems:"center",justifyContent:"center"},modal:{display:"flex",flexDirection:"column",width:"60%",boxShadow:"1px 2px 5px black",backgroundColor:"#fff"},modalContent:{flexDirection:"column",padding:"1.5rem"},buttonContainer:{display:"flex",justifyContent:"flex-end",paddingRight:"1rem",paddingBottom:".5rem","& span":{color:"#00BCD3"}},alertName:{paddingBottom:"1rem",color:"#CA0045"},alertContent:{opacity:.7}};var ce=Object(U.a)(me)(Object(n.memo)((function(e){var t=e.setTaskNameIsEmpty,a=e.taskNameIsEmpty,n=e.classes,s=n.buttonContainer,o=n.modalContainer,m=n.modalContent,c=n.alertContent,i=n.alertName,l=n.modal;return r.a.createElement(oe.a,{"aria-describedby":"simple-modal-description","aria-labelledby":"simple-modal-title",className:o,open:a},r.a.createElement("div",{className:l},r.a.createElement(J.a,{container:!0,className:m},r.a.createElement(G.a,{variant:"h6",id:"modal-title",className:i},"Empty task name"),r.a.createElement(G.a,{id:"simple-modal-description",className:c,variant:"subtitle1"},"You are trying close your task without name, enter the title and try again!")),r.a.createElement("div",{className:s},r.a.createElement($.a,{onClick:function(){t((function(e){return!e}))}},"Close"))))}))),ie={timerContainer:{display:"flex",alignItems:"center",flexDirection:"column"},taskInput:{"& $input::placeholder":{color:"#4823C2",textAlign:"center",opacity:1}},timerFab:{width:"10rem",height:"10rem",margin:"1.5rem",background:"white",color:"#4823C2",fontSize:"1.5rem"},timerButton:{color:"#4823C2",background:"white",marginBottom:"1.5rem"}};var le=Object(m.c)(Object(j.b)((function(e){var t=e.taskProps,a=e.tasksList;return{time:e.time,taskProps:t,tasksList:a}}),{setTaskName:function(e){return{type:p,payload:e}},startTimer:function(){return{type:u}},stopTimer:function(){return{type:d}}}),Object(U.a)(ie))((function(e){var t=e.setTaskName,a=e.taskProps,s=e.startTimer,o=e.stopTimer,m=e.classes,c=Object(n.useState)(!1),i=Object(te.a)(c,2),l=i[0],u=i[1],d=Object(n.useState)("00:00:00"),p=Object(te.a)(d,2),f=p[0],k=p[1];return Object(n.useEffect)((function(){var e=0,t=function(){k(ae.Interval.fromDateTimes(ae.DateTime.fromISO(a.timerStartTime),ae.DateTime.local()).toDuration().toFormat("hh:mm:ss"))};return a.timerStartTime?(t(),e=setInterval(t,1e3)):k("00:00:00"),function(){clearInterval(e)}}),[a.timerStartTime]),r.a.createElement(r.a.Fragment,null,r.a.createElement(se,{timerStartTime:a.timerStartTime,taskNameIsEmpty:l,verifyTaskName:function(){a.taskName?o():u((function(e){return!e}))},setTaskName:t,taskName:a.taskName,startTask:s,time:f,classes:m}),r.a.createElement(ce,{setTaskNameIsEmpty:u,taskNameIsEmpty:l}))})),ue=function(e){for(var t=[],a=function(a){var n=ae.DateTime.fromObject({hour:a,minute:0,second:0}),r=ae.DateTime.fromObject({hour:a,minute:59,second:59}),s=ae.Interval.fromDateTimes(n,r),o=e.filter((function(e){return s.intersection(ae.Interval.fromDateTimes(ae.DateTime.fromISO(e.timerStartTime),ae.DateTime.fromISO(e.timerStopTime)))})),m=void 0;o&&(m=o.reduce((function(e,t){var n,r=ae.DateTime.fromISO(t.timerStartTime),s=ae.DateTime.fromISO(t.timerStopTime);return n=r.hour===a&&s.hour===a?ae.Interval.fromDateTimes(r,s).toDuration("minutes").toObject().minutes:r.hour===a?60-r.minute:s.hour===a?s.minute:60,e+Math.round(n)}),0)),t.push({hour:a,minutes:60,tasksTimeInThisHour:m||0})},n=0;n<24;n++)a(n);return t},de=a(19);var pe=Object(n.memo)((function(e){var t=e.getRandomTasks,a=e.chartData,n=e.classes,s=n.generateButtonContainer,o=n.generateButton;return r.a.createElement("div",null,r.a.createElement(de.e,{id:"container",width:"100%",height:300},r.a.createElement(de.b,{data:a,margin:{top:20,left:-25}},r.a.createElement(de.c,{strokeDasharray:"3 3"}),r.a.createElement(de.g,{dataKey:"hour"}),r.a.createElement(de.h,{dataKey:"minutes"}),r.a.createElement(de.f,null),r.a.createElement(de.d,null),r.a.createElement(de.a,{dataKey:"tasksTimeInThisHour",name:"Minutes in this hours",barSize:20,fill:"#4823C2"}))),r.a.createElement(J.a,{container:!0,className:s},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement($.a,{className:o,variant:"contained",size:"small",onClick:function(){return t()}},"Generate"))))})),fe={generateButtonContainer:{justifyContent:"justify-end",textAlign:"right",padding:"1rem 0"},generateButton:{color:"#4823C2",background:"white"}},ke=function(e,t){return Math.floor(Math.random()*(t-e)+e+1)};var Te=Object(m.c)(Object(j.b)((function(e){return{tasksList:e.tasksList}}),{setTasksListValue:function(e){return{type:f,payload:e}}}),Object(U.a)(fe))((function(e){var t=e.setTasksListValue,a=e.tasksList,n=e.classes,s=ue(a);return r.a.createElement(pe,{getRandomTasks:function(){for(var e=[],a=ae.DateTime.fromObject({hour:0,minute:0,second:0}),n=null,r=ke(10,16),s=1;s<r;s++)n=(a=a.plus({seconds:ke(0,5400)})).plus({seconds:ke(600,5400)}),e.push({id:s,taskName:"Random task #".concat(s),timerStartTime:a,timerStopTime:n}),a=n;t(e)},chartData:s,classes:n})})),be=a(462),he=a(466),Ee=a(465),Oe=a(463),ve=a(464);var Se=Object(n.memo)((function(e){var t=e.deleteTask,a=e.tasksList,n=e.classes,s=n.tableRow,o=n.noTasks,m=n.tasksButton,c=n.hideCellIfSmallScreen,i=n.center;return r.a.createElement(be.a,null,r.a.createElement(Oe.a,null,r.a.createElement(ve.a,null,r.a.createElement(Ee.a,{className:c},"\u2116"),r.a.createElement(Ee.a,{className:i},"Task"),r.a.createElement(Ee.a,{className:c},"Time start"),r.a.createElement(Ee.a,{className:c},"Time end"),r.a.createElement(Ee.a,{className:c},"Time spend"),r.a.createElement(Ee.a,{className:i},"Info"),r.a.createElement(Ee.a,{className:i},"Delete"))),r.a.createElement(he.a,null,a.length>0?a.map((function(e){return r.a.createElement(ve.a,{key:e.id,className:s},r.a.createElement(Ee.a,{component:"th",scope:"row",className:c},e.id),r.a.createElement(Ee.a,{className:i},e.taskName),r.a.createElement(Ee.a,{className:c},ae.DateTime.fromISO(e.timerStartTime).toFormat("HH:mm:ss")),r.a.createElement(Ee.a,{className:c},ae.DateTime.fromISO(e.timerStopTime).toFormat("HH:mm:ss")),r.a.createElement(Ee.a,{className:c},ae.Interval.fromDateTimes(ae.DateTime.fromISO(e.timerStartTime),ae.DateTime.fromISO(e.timerStopTime)).toDuration().toFormat("hh:mm:ss")),r.a.createElement(Ee.a,{className:i},r.a.createElement($.a,{className:m,variant:"contained",size:"small",component:z.b,to:"/tasks/".concat(e.id)},"Info")),r.a.createElement(Ee.a,{className:i},r.a.createElement($.a,{className:m,variant:"contained",size:"small",onClick:function(){return t(e.id)}},"Delete")))})):r.a.createElement(ve.a,{className:s},r.a.createElement(Ee.a,{className:o,colSpan:7},"No tasks to show"))))})),je={tableRow:{background:"#E8F6FF",color:"#4823C2","@media (max-width: 420px)":{alignItems:"center"}},noTasks:{textAlign:"center"},tasksButton:{color:"#4823C2",background:"white"},hideCellIfSmallScreen:{"@media (max-width: 420px)":{display:"none"}},center:{"@media (max-width: 420px)":{textAlign:"center"}}};var Ne=Object(m.c)(Object(j.b)((function(e){return{tasksList:e.tasksList}}),{deleteTask:function(e){return{type:k,payload:e}}}),Object(U.a)(je))((function(e){var t=e.deleteTask,a=e.tasksList,n=e.classes;return r.a.createElement(Se,{deleteTask:t,tasksList:a,classes:n})})),ge={tasksTimerContainer:{padding:"2rem"},tabsContainer:{background:"#00BCD3",boxShadow:"none"}};var ye=Object(U.a)(ge)(Object(n.memo)((function(e){var t=e.location,a=e.classes,n=a.tasksTimerContainer,s=a.tabsContainer,o="/chart"===t.pathname?"Chart":"Log";return r.a.createElement("div",{className:n},r.a.createElement(J.a,{container:!0,justify:"center"},r.a.createElement(J.a,{item:!0,xs:12,lg:10},r.a.createElement(le,null)),r.a.createElement(J.a,{item:!0,xs:12,lg:10},r.a.createElement("section",null,r.a.createElement(X.a,{position:"relative",className:s},r.a.createElement(Z.a,{variant:"fullWidth",value:o},r.a.createElement(ee.a,{value:"Log",label:"Tasks log",component:z.b,to:"/tasks"}),r.a.createElement(ee.a,{value:"Chart",label:"Tasks chart",component:z.b,to:"/chart"}))),r.a.createElement(K.b,{path:"/tasks",exact:!0,component:Ne}),r.a.createElement(K.b,{path:"/chart",exact:!0,component:Te})))))})));var Ie=Object(n.memo)((function(e){var t=e.task,a=e.classes,n=a.card,s=a.taskName,o=a.buttonContainer,m=a.button;return r.a.createElement(Y.a,{key:t.id,className:n},r.a.createElement(V.a,null,r.a.createElement(G.a,{className:s,variant:"h4",component:"h2"},"Task name: ".concat(t.taskName)),r.a.createElement(G.a,{component:"p"},ae.DateTime.fromISO(t.timerStartTime).toFormat("'The timer was started on' yyyy-MM-dd 'at' HH:mm:ss")),r.a.createElement(G.a,{component:"p"},ae.DateTime.fromISO(t.timerStopTime).toFormat("'The timer was stopped on' yyyy-MM-dd 'at' HH:mm:ss")),r.a.createElement(G.a,{component:"p"},ae.Interval.fromDateTimes(ae.DateTime.fromISO(t.timerStartTime),ae.DateTime.fromISO(t.timerStopTime)).toDuration().toFormat("'Time spent on task:' hh:mm:ss"))),r.a.createElement(W.a,{className:o},r.a.createElement($.a,{className:m,size:"small",component:z.b,to:"/tasks"},"Back")))}));var Ce=Object(n.memo)((function(e){var t=e.dataForChart;return r.a.createElement(de.e,{id:"container",width:"80%",height:300},r.a.createElement(de.b,{data:t,margin:{top:20}},r.a.createElement(de.c,{strokeDasharray:"3 3"}),r.a.createElement(de.g,{dataKey:"hour"}),r.a.createElement(de.h,{dataKey:"minutes"}),r.a.createElement(de.f,null),r.a.createElement(de.d,null),r.a.createElement(de.a,{dataKey:"tasksTimeInThisHour",name:"Minutes in this hours",barSize:20,fill:"#4823C2"})))})),xe=function(e){for(var t=[],a=[{startTime:function(){var t=ae.DateTime.fromISO(e.timerStartTime);return{hour:t.hour,minute:t.minute,second:t.second}}(),stopTime:function(){var t=ae.DateTime.fromISO(e.timerStopTime);return{hour:t.hour,minute:t.minute,second:t.second}}()}],n=function(e){var n=ae.DateTime.fromObject({hour:e,minute:0,second:0}),r=ae.DateTime.fromObject({hour:e,minute:59,second:59}),s=ae.Interval.fromDateTimes(n,r),o=a.filter((function(e){return s.intersection(ae.Interval.fromDateTimes(ae.DateTime.fromObject(e.startTime),ae.DateTime.fromObject(e.stopTime)))})),m=void 0;o&&(m=o.reduce((function(t,a){var n,r=ae.DateTime.fromObject(a.startTime),s=ae.DateTime.fromObject(a.stopTime);return n=r.hour===e&&s.hour===e?ae.Interval.fromDateTimes(r,s).toDuration("minutes").toObject().minutes:r.hour===e?60-r.minute:s.hour===e?s.minute:60,t+Math.round(n)}),0)),t.push({hour:e,minutes:60,tasksTimeInThisHour:Math.round(m)||0})},r=0;r<24;r++)n(r);return t},De={card:{display:"flex",flexDirection:"column"},taskName:{color:"#4823C2"},buttonContainer:{justifyContent:"flex-end"},button:{color:"#4823C2",background:"white"}};var we=Object(m.c)(Object(j.b)((function(e){return{tasksList:e.tasksList}})),Object(U.a)(De))((function(e){var t=e.tasksList,a=e.match,n=e.classes,s=t.find((function(e){return e.id===Number(a.params.id)}));return r.a.createElement(r.a.Fragment,null,s?r.a.createElement(J.a,{container:!0,alignItems:"center",direction:"column"},r.a.createElement(Ie,{task:s,classes:n}),r.a.createElement(Ce,{dataForChart:xe(s)})):r.a.createElement(K.a,{to:"/404"}))}));var Le=function(){return r.a.createElement(z.a,null,r.a.createElement(K.d,null,r.a.createElement(K.b,{path:"/",exact:!0,render:function(){return r.a.createElement(K.a,{to:"/tasks"})}}),r.a.createElement(K.b,{path:"/tasks",exact:!0,component:ye}),r.a.createElement(K.b,{path:"/tasks/:id",exact:!0,component:we}),r.a.createElement(K.b,{path:"/chart",exact:!0,component:ye}),r.a.createElement(K.b,{component:Q})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Be=Object(c.a)(),Me=Object(m.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(l.a)({},e,{taskProps:Object(l.a)({},e.taskProps,{timerStartTime:(new Date).toISOString()})});case d:return Object(l.a)({},e,{taskProps:S.taskProps,tasksList:[].concat(Object(i.a)(e.tasksList),[Object(l.a)({},e.taskProps,{id:e.tasksList.length>0?Math.max.apply(Math,Object(i.a)(e.tasksList.map((function(e){return e.id}))))+1:1,timerStopTime:(new Date).toISOString()})])});case p:return Object(l.a)({},e,{taskProps:Object(l.a)({},e.taskProps,{taskName:t.payload})});case f:return Object(l.a)({},e,{tasksList:t.payload});case k:return Object(l.a)({},e,{tasksList:e.tasksList.filter((function(e){return e.id!==t.payload}))});case T:return Object(l.a)({},e,{taskProps:Object(l.a)({},e.taskProps,{timerStartTime:t.payload})});case b:return Object(l.a)({},e,{tasksList:[].concat(Object(i.a)(e.tasksList),Object(i.a)(t.payload))});case h:return Object(l.a)({},e,{taskProps:Object(l.a)({},e.taskProps,{taskName:t.payload})});default:return e}}),Object(m.a)(Be));Be.run(H),o.a.render(r.a.createElement(j.a,{store:Me},r.a.createElement(Le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[234,1,2]]]);
//# sourceMappingURL=main.6b066890.chunk.js.map